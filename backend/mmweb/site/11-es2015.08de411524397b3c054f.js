(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Jzgh:function(t,e,n){"use strict";n.r(e);var r=n("ofXK"),o=n("tyNb"),a=n("fXoL"),s=n("lWTH");function i(t,e){1&t&&a["\u0275\u0275element"](0,"router-outlet")}const c=function(){return["view","gen"]};let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-gen"]],decls:1,vars:2,consts:[[4,"nbIsGranted"]],template:function(t,e){1&t&&a["\u0275\u0275template"](0,i,1,0,"router-outlet",0),2&t&&a["\u0275\u0275property"]("nbIsGranted",a["\u0275\u0275pureFunction0"](1,c))},directives:[s.b,o.h],encapsulation:2}),t})();var p=n("tk/3"),u=n("LRne"),d=n("lJxs"),f=n("JIr8"),h=n("aceb");const g={headers:new p.d({"Content-Type":"application/json"})},m="https://solmm01.fmg.local/api/gen/";let b=(()=>{class t{constructor(t,e){this.http=t,this.toastrService=e}extractData(t){return t||{}}handleError(t="operation",e){return t=>(this.dangerToast("top-right","danger",t.statusText,t.status),Object(u.a)(e))}returnFalse(t="operation",e){return Object(u.a)(e)}createGenModule(t){return this.http.post(m+"create",JSON.stringify(t),g).pipe(Object(d.a)(this.extractData),Object(f.a)(this.handleError("error")))}updateGenModule(t){return this.http.post(m+"update",JSON.stringify(t),g).pipe(Object(d.a)(this.extractData),Object(f.a)(this.handleError("error")))}deleteGenModule(t){return this.http.delete(m+"delete/"+t).pipe(Object(d.a)(this.extractData),Object(f.a)(this.handleError("failed")))}getGenModules(){return this.http.get(m+"modules").pipe(Object(d.a)(this.extractData),Object(f.a)(this.handleError("failed")))}getGenStatus(){return this.http.get(m+"status").pipe(Object(d.a)(this.extractData),Object(f.a)(this.handleError("failed")))}dangerToast(t,e,n,r){this.toastRef=this.toastrService.show("API call error - "+r+": "+n,"Failed",{position:t,status:e,preventDuplicates:!0,duration:0}),this.toastRef&&(this.tempToast=this.toastRef),this.delay&&clearTimeout(this.delay),this.delay=setTimeout(()=>{this.clearToast(this.tempToast)},5500)}successToast(t,e,n,r){this.toastrService.show("API call error - "+r+": "+n,"Failed",{position:t,status:e,preventDuplicates:!0})}clearToast(t){t&&t.close()}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](p.a),a["\u0275\u0275inject"](h.ob))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=n("4osK");function x(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"div",3),a["\u0275\u0275element"](1,"ngx-gen-status",4),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("name",t.name)("oil",t.oil)("flex",t.flex)("fuel",t.fuel)("level",t.fuel_level)("color",t.fuel_color)("temp",t.temp)}}function w(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"div",1),a["\u0275\u0275template"](1,x,2,7,"div",2),a["\u0275\u0275elementEnd"]()),2&t){const t=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.gen$)}}const O=function(){return["view","gen_status"]},y=[{path:"",component:l,children:[{path:"status",component:(()=>{class t{constructor(t){this.gen=t}ngOnInit(){this.refreshData(),this.interval=setInterval(()=>{this.refreshData()},1e4)}ngOnDestroy(){clearInterval(this.interval)}refreshData(){this.gen.getGenStatus().subscribe(t=>{this.gen$=t})}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](b))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["gen-status"]],decls:1,vars:2,consts:[["class","row",4,"nbIsGranted"],[1,"row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-md-4 col-sm-6",4,"ngFor","ngForOf"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-md-4","col-sm-6"],[3,"name","oil","flex","fuel","level","color","temp"]],template:function(t,e){1&t&&a["\u0275\u0275template"](0,w,2,1,"div",0),2&t&&a["\u0275\u0275property"]("nbIsGranted",a["\u0275\u0275pureFunction0"](1,O))},directives:[s.b,r.l,v.a],styles:["@-webkit-keyframes rotating{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes rotating{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.rotating[_ngcontent-%COMP%]{-webkit-animation:rotating 2s linear infinite;animation:rotating 2s linear infinite;font-size:70px;color:#00d68f}.rotating-wrapper[_ngcontent-%COMP%]{text-align:center;color:#00d68f}.static[_ngcontent-%COMP%]{font-size:70px}.static-wrapper[_ngcontent-%COMP%]{text-align:center}.unknown[_ngcontent-%COMP%]{font-size:70px;color:#8f9bb3}.unknown-wrapper[_ngcontent-%COMP%]{color:#8f9bb3;text-align:center}"]}),t})()}]}];let j=(()=>{class t{}return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[o.g.forChild(y)],o.g]}),t})();var I=n("RS3s"),M=n("h+2I");n.d(e,"GenModule",(function(){return C}));let C=(()=>{class t{}return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[r.c,j,M.a,h.q,h.l,h.C,I.b,s.d]]}),t})()}}]);