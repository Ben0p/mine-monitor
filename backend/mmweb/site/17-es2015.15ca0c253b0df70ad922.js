(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{p5L5:function(e,t,n){"use strict";n.r(t);var r=n("ofXK"),i=n("aceb"),o=n("h+2I"),a=n("tyNb"),s=n("fXoL");let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-wind"]],decls:1,vars:0,template:function(e,t){1&e&&s["\u0275\u0275element"](0,"router-outlet")},directives:[a.h],encapsulation:2}),e})();var d=n("Ikiw"),l=n("R0Ic"),h=n("9x60");function g(e,t){if(1&e&&s["\u0275\u0275element"](0,"ngx-wind-speed-card",4),2&e){const e=s["\u0275\u0275nextContext"]().$implicit;s["\u0275\u0275propertyInterpolate1"]("routerLink","/pages/wind/",e.module_uid.$oid,""),s["\u0275\u0275property"]("location",e.name)("speed",e.speed)("info",e.kmh)("status",e.status)("on",e.online)}}function m(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",2),s["\u0275\u0275template"](1,g,1,6,"ngx-wind-speed-card",3),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","speed"==e.type)}}let b=(()=>{class e{constructor(e){this.wind=e,this.direction="N"}ngOnInit(){this.refreshData(),this.interval=setInterval(()=>{this.refreshData()},1e4)}ngOnDestroy(){clearInterval(this.interval)}refreshData(){this.wind.getWindAll().subscribe(e=>{this.winds=e})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["all"]],decls:2,vars:1,consts:[[1,"row"],["class","col-xl-3 col-lg-4 col-md-6 col-sm-12",4,"ngFor","ngForOf"],[1,"col-xl-3","col-lg-4","col-md-6","col-sm-12"],["style","cursor: pointer;",3,"location","speed","info","status","on","routerLink",4,"ngIf"],[2,"cursor","pointer",3,"location","speed","info","status","on","routerLink"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275template"](1,m,2,1,"div",1),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",t.winds))},directives:[r.l,r.m,h.a,a.d],styles:[".direction[_ngcontent-%COMP%]{width:20px;height:auto}.nb-theme-default   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-default   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.nb-theme-dark   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-dark   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.nb-theme-cosmic   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-cosmic   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.nb-theme-corporate   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-corporate   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}"],data:{animation:[Object(l.j)("rotatedState",[Object(l.g)("N",Object(l.h)({transform:"rotate(0)"})),Object(l.g)("NNE",Object(l.h)({transform:"rotate(22.5deg)"})),Object(l.g)("NE",Object(l.h)({transform:"rotate(45deg)"})),Object(l.g)("ENE",Object(l.h)({transform:"rotate(67.50deg)"})),Object(l.g)("E",Object(l.h)({transform:"rotate(90deg)"})),Object(l.g)("ESE",Object(l.h)({transform:"rotate(112.5deg)"})),Object(l.g)("SE",Object(l.h)({transform:"rotate(135deg)"})),Object(l.g)("SSE",Object(l.h)({transform:"rotate(157.5deg)"})),Object(l.g)("S",Object(l.h)({transform:"rotate(180deg)"})),Object(l.g)("SSW",Object(l.h)({transform:"rotate(202.5deg)"})),Object(l.g)("SW",Object(l.h)({transform:"rotate(225deg)"})),Object(l.g)("WSW",Object(l.h)({transform:"rotate(247.5deg)"})),Object(l.g)("W",Object(l.h)({transform:"rotate(270deg)"})),Object(l.g)("WNW",Object(l.h)({transform:"rotate(292.5deg)"})),Object(l.g)("NW",Object(l.h)({transform:"rotate(315deg)"})),Object(l.g)("NNW",Object(l.h)({transform:"rotate(337.5deg)"}))])]}}),e})();var p=n("z+eI");let u=(()=>{class e{constructor(e,t){this.theme=e,this.wind=t,this.unit="kmh",this.themeSubscription=this.theme.getJsTheme().subscribe(e=>{this.colors=e.variables;const t=e.variables.chartjs;this.data={labels:[],datasets:[{data:[],label:this.range,backgroundColor:i.u.hexToRgbA(this.colors.primary,.3),borderColor:this.colors.primary}]},this.options={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},scales:{xAxes:[{gridLines:{display:!0,color:t.axisLineColor},ticks:{fontColor:t.textColor}}],yAxes:[{gridLines:{display:!0,color:t.axisLineColor},ticks:{fontColor:t.textColor}}]},legend:{labels:{fontColor:t.textColor}}}})}refreshData(){"minute"==this.range?this.wind.getWindMinute(this.uid).subscribe(e=>{this.name=e.name,this.windspeed=e,this.loadData(this.windspeed)}):"hour"==this.range?this.wind.getWindHour(this.uid).subscribe(e=>{this.name=e.name,this.windspeed=e,this.loadData(this.windspeed)}):"day"==this.range?this.wind.getWindDay(this.uid).subscribe(e=>{this.name=e.name,this.windspeed=e,console.log(e),this.loadData(this.windspeed)}):"month"==this.range&&this.wind.getWindMonth(this.uid).subscribe(e=>{this.name=e.name,this.windspeed=e,console.log(e),this.loadData(this.windspeed)})}ngOnInit(){this.refreshData(),this.interval=setInterval(()=>{this.refreshData()},1e4)}ngOnDestroy(){this.themeSubscription.unsubscribe(),clearInterval(this.interval)}loadData(e){this.data="minute"==this.range?{labels:e.time,datasets:[{data:e[this.unit].speed,label:"Speed",backgroundColor:i.u.hexToRgbA(this.colors.primary,.3),borderColor:this.colors.primary}]}:{labels:e.time,datasets:[{data:e[this.unit].max,label:"max",backgroundColor:i.u.hexToRgbA(this.colors.danger,.3),borderColor:this.colors.danger},{data:e[this.unit].min,label:"min",backgroundColor:i.u.hexToRgbA(this.colors.success,.3),borderColor:this.colors.success},{data:e[this.unit].avg,label:"avg",backgroundColor:i.u.hexToRgbA(this.colors.primary,.3),borderColor:this.colors.primary}]}}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](i.mb),s["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-wind-line-chart"]],inputs:{uid:"uid",range:"range"},decls:12,vars:8,consts:[[3,"value","valueChange","click"],[3,"value","click"],["type","line",3,"data","options"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275text"](2),s["\u0275\u0275elementStart"](3,"nb-radio-group",0),s["\u0275\u0275listener"]("valueChange",(function(e){return t.unit=e}))("click",(function(){return t.refreshData()})),s["\u0275\u0275elementStart"](4,"nb-radio",1),s["\u0275\u0275listener"]("click",(function(){return t.refreshData()})),s["\u0275\u0275text"](5," km/h "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-radio",1),s["\u0275\u0275listener"]("click",(function(){return t.refreshData()})),s["\u0275\u0275text"](7," m/s "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"nb-radio",1),s["\u0275\u0275listener"]("click",(function(){return t.refreshData()})),s["\u0275\u0275text"](9," knots "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"nb-card-body"),s["\u0275\u0275element"](11,"chart",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate2"](" ",t.name," - ",t.range," "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("value",t.unit),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("value","kmh"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value","ms"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value","knots"),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("data",t.data)("options",t.options))},directives:[i.n,i.p,i.Z,i.Y,i.m,p.ChartComponent],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-default   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.nb-theme-dark   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-dark   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.nb-theme-corporate   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-corporate   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}nb-radio-group[_ngcontent-%COMP%]{display:table}nb-radio[_ngcontent-%COMP%]{display:table-cell}"]}),e})();const f=[{path:"",component:c,children:[{path:"all",component:b},{path:":uid",component:(()=>{class e{constructor(e){this.route=e}ngOnInit(){this.uid=this.route.snapshot.paramMap.get("uid")}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["detail"]],decls:9,vars:8,consts:[[1,"row"],[1,"col-12"],[3,"uid","range"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275element"](2,"ngx-wind-line-chart",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275element"](4,"ngx-wind-line-chart",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",1),s["\u0275\u0275element"](6,"ngx-wind-line-chart",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",1),s["\u0275\u0275element"](8,"ngx-wind-line-chart",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("uid",t.uid)("range","minute"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("uid",t.uid)("range","hour"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("uid",t.uid)("range","day"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("uid",t.uid)("range","month"))},directives:[u],styles:[""]}),e})()}]}];let O=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.g.forChild(f)],a.g]}),e})();n.d(t,"WindModule",(function(){return y}));let y=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[O,r.c,o.a,i.q]]}),e})()}}]);