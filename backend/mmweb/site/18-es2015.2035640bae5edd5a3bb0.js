(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{p5L5:function(t,e,n){"use strict";n.r(e);var r=n("ofXK"),i=n("aceb"),o=n("lWTH"),a=n("h+2I"),s=n("tyNb"),c=n("fXoL");function d(t,e){1&t&&c["\u0275\u0275element"](0,"router-outlet")}const l=function(){return["view","wind"]};let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-wind"]],decls:1,vars:2,consts:[[4,"nbIsGranted"]],template:function(t,e){1&t&&c["\u0275\u0275template"](0,d,1,0,"router-outlet",0),2&t&&c["\u0275\u0275property"]("nbIsGranted",c["\u0275\u0275pureFunction0"](1,l))},directives:[o.b,s.h],encapsulation:2}),t})();var g=n("Ikiw"),m=n("R0Ic"),b=n("9x60");function u(t,e){if(1&t&&c["\u0275\u0275element"](0,"ngx-wind-speed-card",4),2&t){const t=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275propertyInterpolate1"]("routerLink","/pages/wind/",t.module_uid.$oid,""),c["\u0275\u0275property"]("location",t.name)("speed",t.speed)("info",t.kmh)("status",t.status)("on",t.online)}}function p(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"div",2),c["\u0275\u0275template"](1,u,1,6,"ngx-wind-speed-card",3),c["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","speed"==t.type)}}let f=(()=>{class t{constructor(t){this.wind=t,this.direction="N"}ngOnInit(){this.refreshData(),this.interval=setInterval(()=>{this.refreshData()},1e4)}ngOnDestroy(){clearInterval(this.interval)}refreshData(){this.wind.getWindAll().subscribe(t=>{this.winds=t})}}return t.\u0275fac=function(e){return new(e||t)(c["\u0275\u0275directiveInject"](g.a))},t.\u0275cmp=c["\u0275\u0275defineComponent"]({type:t,selectors:[["all"]],decls:2,vars:1,consts:[[1,"row"],["class","col-xl-3 col-lg-4 col-md-6 col-sm-12",4,"ngFor","ngForOf"],[1,"col-xl-3","col-lg-4","col-md-6","col-sm-12"],["style","cursor: pointer;",3,"location","speed","info","status","on","routerLink",4,"ngIf"],[2,"cursor","pointer",3,"location","speed","info","status","on","routerLink"]],template:function(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275template"](1,p,2,1,"div",1),c["\u0275\u0275elementEnd"]()),2&t&&(c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.winds))},directives:[r.l,r.m,b.a,s.d],styles:[".direction[_ngcontent-%COMP%]{width:20px;height:auto}.nb-theme-default   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-default   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.nb-theme-dark   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-dark   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.nb-theme-cosmic   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-cosmic   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.nb-theme-corporate   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-corporate   [_nghost-%COMP%]   ngx-wind-line-chart[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}"],data:{animation:[Object(m.j)("rotatedState",[Object(m.g)("N",Object(m.h)({transform:"rotate(0)"})),Object(m.g)("NNE",Object(m.h)({transform:"rotate(22.5deg)"})),Object(m.g)("NE",Object(m.h)({transform:"rotate(45deg)"})),Object(m.g)("ENE",Object(m.h)({transform:"rotate(67.50deg)"})),Object(m.g)("E",Object(m.h)({transform:"rotate(90deg)"})),Object(m.g)("ESE",Object(m.h)({transform:"rotate(112.5deg)"})),Object(m.g)("SE",Object(m.h)({transform:"rotate(135deg)"})),Object(m.g)("SSE",Object(m.h)({transform:"rotate(157.5deg)"})),Object(m.g)("S",Object(m.h)({transform:"rotate(180deg)"})),Object(m.g)("SSW",Object(m.h)({transform:"rotate(202.5deg)"})),Object(m.g)("SW",Object(m.h)({transform:"rotate(225deg)"})),Object(m.g)("WSW",Object(m.h)({transform:"rotate(247.5deg)"})),Object(m.g)("W",Object(m.h)({transform:"rotate(270deg)"})),Object(m.g)("WNW",Object(m.h)({transform:"rotate(292.5deg)"})),Object(m.g)("NW",Object(m.h)({transform:"rotate(315deg)"})),Object(m.g)("NNW",Object(m.h)({transform:"rotate(337.5deg)"}))])]}}),t})();var O=n("z+eI");let y=(()=>{class t{constructor(t,e){this.theme=t,this.wind=e,this.unit="kmh",this.themeSubscription=this.theme.getJsTheme().subscribe(t=>{this.colors=t.variables;const e=t.variables.chartjs;this.data={labels:[],datasets:[{data:[],label:this.range,backgroundColor:i.u.hexToRgbA(this.colors.primary,.3),borderColor:this.colors.primary}]},this.options={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},scales:{xAxes:[{gridLines:{display:!0,color:e.axisLineColor},ticks:{fontColor:e.textColor}}],yAxes:[{gridLines:{display:!0,color:e.axisLineColor},ticks:{fontColor:e.textColor}}]},legend:{labels:{fontColor:e.textColor}}}})}refreshData(){"minute"==this.range?this.wind.getWindMinute(this.uid).subscribe(t=>{this.name=t.name,this.windspeed=t,this.loadData(this.windspeed)}):"hour"==this.range?this.wind.getWindHour(this.uid).subscribe(t=>{this.name=t.name,this.windspeed=t,this.loadData(this.windspeed)}):"day"==this.range?this.wind.getWindDay(this.uid).subscribe(t=>{this.name=t.name,this.windspeed=t,console.log(t),this.loadData(this.windspeed)}):"month"==this.range&&this.wind.getWindMonth(this.uid).subscribe(t=>{this.name=t.name,this.windspeed=t,console.log(t),this.loadData(this.windspeed)})}ngOnInit(){this.refreshData(),this.interval=setInterval(()=>{this.refreshData()},1e4)}ngOnDestroy(){this.themeSubscription.unsubscribe(),clearInterval(this.interval)}loadData(t){this.data="minute"==this.range?{labels:t.time,datasets:[{data:t[this.unit].speed,label:"Speed",backgroundColor:i.u.hexToRgbA(this.colors.primary,.3),borderColor:this.colors.primary}]}:{labels:t.time,datasets:[{data:t[this.unit].max,label:"max",backgroundColor:i.u.hexToRgbA(this.colors.danger,.3),borderColor:this.colors.danger},{data:t[this.unit].min,label:"min",backgroundColor:i.u.hexToRgbA(this.colors.success,.3),borderColor:this.colors.success},{data:t[this.unit].avg,label:"avg",backgroundColor:i.u.hexToRgbA(this.colors.primary,.3),borderColor:this.colors.primary}]}}}return t.\u0275fac=function(e){return new(e||t)(c["\u0275\u0275directiveInject"](i.mb),c["\u0275\u0275directiveInject"](g.a))},t.\u0275cmp=c["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-wind-line-chart"]],inputs:{uid:"uid",range:"range"},decls:12,vars:8,consts:[[3,"value","valueChange","click"],[3,"value","click"],["type","line",3,"data","options"]],template:function(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"nb-card"),c["\u0275\u0275elementStart"](1,"nb-card-header"),c["\u0275\u0275text"](2),c["\u0275\u0275elementStart"](3,"nb-radio-group",0),c["\u0275\u0275listener"]("valueChange",(function(t){return e.unit=t}))("click",(function(){return e.refreshData()})),c["\u0275\u0275elementStart"](4,"nb-radio",1),c["\u0275\u0275listener"]("click",(function(){return e.refreshData()})),c["\u0275\u0275text"](5," km/h "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"nb-radio",1),c["\u0275\u0275listener"]("click",(function(){return e.refreshData()})),c["\u0275\u0275text"](7," m/s "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"nb-radio",1),c["\u0275\u0275listener"]("click",(function(){return e.refreshData()})),c["\u0275\u0275text"](9," knots "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"nb-card-body"),c["\u0275\u0275element"](11,"chart",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&t&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate2"](" ",e.name," - ",e.range," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("value",e.unit),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("value","kmh"),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("value","ms"),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("value","knots"),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("data",e.data)("options",e.options))},directives:[i.n,i.p,i.Z,i.Y,i.m,O.ChartComponent],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-default   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.nb-theme-dark   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-dark   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}.nb-theme-corporate   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:block;height:28.875rem;width:100%}.nb-theme-corporate   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]     chart{display:block;height:100%;width:100%}nb-radio-group[_ngcontent-%COMP%]{display:table}nb-radio[_ngcontent-%COMP%]{display:table-cell}"]}),t})();const w=[{path:"",component:h,children:[{path:"all",component:f},{path:":uid",component:(()=>{class t{constructor(t){this.route=t}ngOnInit(){this.uid=this.route.snapshot.paramMap.get("uid")}}return t.\u0275fac=function(e){return new(e||t)(c["\u0275\u0275directiveInject"](s.a))},t.\u0275cmp=c["\u0275\u0275defineComponent"]({type:t,selectors:[["detail"]],decls:9,vars:8,consts:[[1,"row"],[1,"col-12"],[3,"uid","range"]],template:function(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275element"](2,"ngx-wind-line-chart",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",1),c["\u0275\u0275element"](4,"ngx-wind-line-chart",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div",1),c["\u0275\u0275element"](6,"ngx-wind-line-chart",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",1),c["\u0275\u0275element"](8,"ngx-wind-line-chart",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&t&&(c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("uid",e.uid)("range","minute"),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("uid",e.uid)("range","hour"),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("uid",e.uid)("range","day"),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("uid",e.uid)("range","month"))},directives:[y],styles:[""]}),t})()}]}];let C=(()=>{class t{}return t.\u0275mod=c["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[s.g.forChild(w)],s.g]}),t})();n.d(e,"WindModule",(function(){return v}));let v=(()=>{class t{}return t.\u0275mod=c["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[C,r.c,a.a,i.q,o.d]]}),t})()}}]);