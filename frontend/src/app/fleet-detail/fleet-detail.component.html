<div class="fleet">
  <div class="container" fxLayout="column" fxLayoutAlign="space-around center">
    <div flex-gt-lg="15">
      <div *ngFor="let fleet of fleet$">
        <mat-card class="fleet-card" [ngClass]="{
          'truck-on': fleet.ximOnline && fleet.twoOnline && fleet.screenOnline, 
          'truck-off': !fleet.ximOnline && !fleet.twoOnline && !fleet.screenOnline, 
          'truck-fail': somethingOffline(fleet.ximOnline, fleet.twoOnline, fleet.screenOnline)
        }">
          <mat-card-header>
            <mat-card-title>
              <h3>{{ fleet.name }}</h3>
            </mat-card-title>
          </mat-card-header>
          <mat-card-content class="devices">

            <!-- TropOS 2.4 ghz -->
            <mat-card class="device" [ngClass]="{
              'device-on': fleet.twoOnline, 
              'device-off': !fleet.twoOnline
            }"
              (click)="externalLink('tropos', fleet.twoIP, fleet.twoOnline)">
              <mat-card-header>
                <mat-card-title>
                  <h4>TropOS 2.4ghz</h4>
                </mat-card-title>
                <mat-card-subtitle>
                  <h3>{{ fleet.twoIP }}</h3>
                </mat-card-subtitle>
              </mat-card-header>
              <mat-card-content>
                {{ fleet.twoLatency }} ms
              </mat-card-content>
            </mat-card>

            <!-- TropOS 5ghz -->
            <mat-card class="device" [ngClass]="{
              'device-on': fleet.fiveOnline, 
              'device-off': !fleet.fiveOnline
            }"
              (click)="externalLink('tropos', fleet.fiveIP, fleet.fiveOnline)">
              <mat-card-header>
                <mat-card-title>
                  <h4>TropOS 5ghz</h4>
                </mat-card-title>
                <mat-card-subtitle>
                  <h3>{{ fleet.fiveIP }}</h3>
                </mat-card-subtitle>
              </mat-card-header>
              <mat-card-content>
                {{fleet.fiveLatency}} ms
              </mat-card-content>
            </mat-card>

            <!-- xIM -->
            <mat-card class="device" [ngClass]="{
              'device-on': fleet.ximOnline, 
              'device-off': !fleet.ximOnline
            }"
              (click)="externalLink('xim', fleet.ximIP, fleet.ximOnline)">
              <mat-card-header>
                <mat-card-title>
                  <h4>xIM</h4>
                </mat-card-title>
                <mat-card-subtitle>
                  <h3>{{ fleet.ximIP }}</h3>
                </mat-card-subtitle>
              </mat-card-header>
              <mat-card-content>
                {{fleet.ximLatency}} ms
              </mat-card-content>
            </mat-card>

            <!-- screen -->
            <mat-card class="device" [ngClass]="{
              'device-on': fleet.screenOnline, 
              'device-off': !fleet.screenOnline
            }">
              <mat-card-header>
                <mat-card-title>
                  <h4>Screen</h4>
                </mat-card-title>
                <mat-card-subtitle>
                  <h3>{{ fleet.screenIP }}</h3>
                </mat-card-subtitle>
              </mat-card-header>
              <mat-card-content>
                {{fleet.screenLatency}} ms
              </mat-card-content>

              <!-- Other / MS952-->
            </mat-card>
            <mat-card class="device" [ngClass]="{
              'device-on': fleet.ms352Online, 
              'device-off': !fleet.ms352Online
            }"
            (click)="externalLink('ms352', fleet.ms352IP, fleet.ms352Online)">
              <mat-card-header>
                <mat-card-title>
                  <h4>MS352</h4>
                </mat-card-title>
                <mat-card-subtitle>
                  <h3>{{ fleet.ms952IP }}</h3>
                </mat-card-subtitle>
              </mat-card-header>
              <mat-card-content>
                {{fleet.ms352Latency}} ms
              </mat-card-content>
            </mat-card>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>